webpackJsonp([2,0],{0:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(35),i=n(o),a=s(545),r=n(a),c=s(539),u=n(c),l=s(203),p=n(l),d=s(544),f=s(26);s(546),s(547),s(552),i.default.directive("focus",d.focus),i.default.directive("sortable",{inserted:function(e,t){new u.default(e,t.value||{})}}),t.default=r.default,window.mountProcessBuilder=function(e,t){new i.default({store:(0,p.default)(t),el:e,render:function(e){return e(r.default)}})},"production"!==window.NODE_ENV&&window.mountProcessBuilder("#app",[{id:"ex-form",type:"form",returnType:f.types.form,atoms:[{type:"atom",sexpType:"value",id:"ex-form",label:"Ex Form"}]}])},26:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.typeMatches=t.atomList=t.atoms=t.isMul=t.types=void 0;var o=s(221),i=n(o),a=s(32),r=t.types={form:"form",future:"result",request:"request",dependency:"dependency",reciever:"reciever",role:"role",name:"name"},c=(0,a.lensPath)(["tree","expressions",0,"id"]),u=t.isMul=function(e){return(0,a.any)((0,a.compose)((0,a.equals)("each"),(0,a.view)(c)),e.props.conditions)},l=t.atoms={exists:{id:"exists",type:"function",atoms:[{type:"atom",id:"exists",label:"filled",sexpType:"unary"}],parameters:[r.future],returnType:r.dependency},each:{id:"each",type:"function",atoms:[{type:"atom",id:"each",label:"for each",sexpType:"unary"}],parameters:[r.future],returnType:r.dependency},approve:{id:"approve",type:"function",buildResults:function(e,t,s){var n=(0,i.default)(e,1),o=n[0].label,a=o,c={id:a,type:"approval",actionId:t.id,stepId:s.id,atoms:[{type:"atom",actionId:t.id,stepId:s.id,id:a,mul:t.multiplePackages||"mul"===t.type,label:o,sexpType:"value"}],returnType:r.future};return[c]},atoms:[{type:"atom",id:"approve",label:"approve",sexpType:"binary"}],parameters:[r.name,r.future],returnType:r.request},form:{id:"form",type:"function",buildResults:function(e,t,s){var n=(0,i.default)(e,1),o=n[0].label;return[{id:o,type:"submission",actionId:t.id,stepId:s.id,atoms:[{type:"atom",id:o,actionId:t.id,stepId:s.id,mul:t.multiplePackages||"mul"===t.type,label:o,sexpType:"value"}],returnType:r.future}]},atoms:[{type:"atom",id:"form",label:"form",sexpType:"binary"}],parameters:[r.name,r.form],returnType:r.request},submission:{id:"submission",type:"function",atoms:[{type:"atom",id:"submission",label:"submission",sexpType:"binary"}],parameters:[r.name,r.future],returnType:r.request},all:{id:"all",type:"function",atoms:[{type:"atom",id:"all",label:"every",sexpType:"unary"}],parameters:[r.role],returnType:r.reciever},this:{id:"this",type:"function",filter:function(e){return u(e)},atoms:[{type:"atom",id:"this",label:"this",sexpType:"unary"}],parameters:[r.role],returnType:r.reciever},thisSubmission:{id:"thisSubmission",filter:function(e){return u(e)},atoms:[{type:"atom",id:"thisSubmission",label:"this submission",sexpType:"value"}],returnType:r.future}};t.atomList=(0,a.values)(l),t.typeMatches=function(e,t){return e.returnType===t}},73:function(e,t,s){s(277);var n=s(18)(s(210),s(553),null,null);e.exports=n.exports},74:function(e,t,s){var n=s(18)(s(212),s(562),null,null);e.exports=n.exports},203:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getActionResults=t.log=void 0;var o=s(224),i=n(o),a=s(219),r=n(a),c=s(222),u=n(c),l=s(48),p=n(l),d=s(32),f=s(541),v=n(f),m=s(35),h=n(m),y=s(290),_=n(y),b=s(533),x=n(b),g=s(26);h.default.use(p.default);var C=(0,x.default)("http://localhost:3030"),P=(0,_.default)().configure(_.default.socketio(C)).configure(_.default.hooks()),k=function(e){return{processes:[],process:null,scope:[],forms:e}},T=(t.log=(0,d.curry)(function(e,t){return console.log(e,t),t}),function(e,t){return(0,d.find)((0,d.compose)((0,d.equals)(t),(0,d.prop)("id")),e)}),I=function(e,t,s){var n=e.tree;if(null!=n.expressions&&n.expressions&&(0,d.all)(function(e){return"sexp-hole"!==e.type},n.expressions)){var o=(0,u.default)(n.expressions),i=o[0],a=o.slice(1),r=g.atoms[i.id].buildResults;if(r instanceof Function)return r(a,t,s)}return[]},S=t.getActionResults=function(e,t){var s=(0,d.compose)(d.flatten,(0,d.map)(function(s){return I(s,t,e)}),(0,d.prop)("package"),(0,d.prop)("props"))(t);return t.props.results=(0,d.flatten)((0,d.pluck)("atoms",s)),s.map(function(s){return{id:s.id,stepId:e.id,actionId:t.id,type:"result",atoms:[{type:"atom",stepId:e.id,actionId:t.id,id:s.id,label:s.atoms[0].label,sexpType:"value"}],returnType:g.types.future}})},w=function(e){return(0,d.compose)((0,d.map)(function(t){return S(e,t)}),(0,d.prop)("actions"))(e)},A=(0,d.compose)((0,d.map)(w),(0,d.prop)("steps")),N=function(e,t){var s=g.atomList,n=(0,d.flatten)(A(e)),o=e.roles||[];return(0,d.concat)(o,(0,d.concat)(s,(0,d.concat)(t,n)))},R={process:function(e){return e.process}},O=function(e,t){return{id:e,name:t,returnType:g.types.role,atoms:[{type:"atom",label:t,id:e,sexpType:"role"}]}},$=function(e){return{id:e._id,type:g.types.form,returnType:g.types.form,atoms:[{type:"atom",sexpType:"value",id:e._id,label:e.name}]}},M={setProcesses:function(e,t){var s=t.processes;e.processes=s,e.process&&null==(0,d.find)((0,d.propEq)("_id",e.process._id),e.processes)&&M.setProcess(e,{process:null})},setForms:function(e,t){var s=t.forms;e.forms=(0,d.map)($,s),e.process&&(e.scope=N(e.process,e.forms))},setProcess:function(e,t){var s=t.process;e.process=s,s&&(e.scope=N(e.process,e.forms))},addRole:function(e,t){var s=t.name;Array.isArray(e.process.roles)||(e.process.roles=[]),e.process.roles.push(O(v.default.v4(),s)),e.scope=N(e.process,e.forms)},removeRole:function(e,t){var s=t.id,n=(0,d.findIndex)((0,d.propEq)("id",s),e.process.roles);e.process.roles.splice(n,1),e.scope=N(e.process,e.forms)},saveRole:function(e,t){var s=t.id,n=t.name,o=(0,d.findIndex)((0,d.propEq)("id",s),e.process.roles);e.process.roles.splice(o,1,O(s,n)),e.scope=N(e.process,e.forms)},addStep:function(e){R.process(e).steps.push({id:v.default.v4(),name:"",actions:[],conditionAction:{type:"single",props:{conditions:[]}}})},removeStep:function(e,t){var s=t.stepId,n=(0,d.findIndex)((0,d.propEq)("id",s),e.process.steps);R.process(e).steps.splice(n,1)},addAction:function(e,t){var s=t.stepId,n=R.process(e),o=T(n.steps,s);o.actions.push({id:v.default.v4(),name:"",type:"single",props:null})},setProcessName:function(e,t){var s=t.name;R.process(e).name=s},setStepName:function(e,t){var s=t.stepId,n=t.name,o=R.process(e);T(o.steps,s).name=n},setStepConditionProps:function(e,t){var s=t.stepId,n=t.props,o=R.process(e),i=T(o.steps,s);i.conditionAction||(i.conditionAction={}),i.conditionAction.props=n},setActionName:function(e,t){var s=t.stepId,n=t.actionId,o=t.name,i=R.process(e),a=T(i.steps,s),r=T(a.actions,n);r.name=o},removeAction:function(e,t){var s=t.stepId,n=t.actionId,o=R.process(e),i=T(o.steps,s),a=(0,d.findIndex)((0,d.propEq)("_id",n),i.actions);i.actions.splice(a,1)},setActionType:function(e,t){var s=t.stepId,n=t.actionId,o=t.type,i=R.process(e),a=T(i.steps,s),r=T(a.actions,n);r.type=o,e.scope=N(i,e.forms)},setActionMultiplePackages:function(e,t){var s=t.stepId,n=t.actionId,o=t.multiplePackages,i=R.process(e),a=T(i.steps,s),r=T(a.actions,n);r.multiplePackages=o,e.scope=N(i,e.forms)},setActionProps:function(e,t){var s=t.stepId,n=t.actionId,o=t.props,i=R.process(e),a=T(i.steps,s),r=T(a.actions,n);r.props=o,e.scope=N(i,e.forms)}},F=P.service("processes"),q=P.service("forms"),j=void 0;F.on("created",function(e){j.commit("setProcesses",{processes:(0,d.append)(e,j.state.processes)})}),F.on("updated",function(e){var t=(0,d.findIndex)(function(t){var s=t._id;return e._id===s},j.state.processes);j.commit("setProcesses",{processes:(0,d.update)(t,e,j.state.processes)})}),F.on("removed",function(e){var t=(0,d.findIndex)(function(t){var s=t._id;return e._id===s},j.state.processes);j.commit("setProcesses",{processes:(0,d.remove)(t,1,j.state.processes)})});var E={saveProcess:function(e,t){var s=this,n=e.commit,o=(e.state,t.process);return(0,r.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.update(o._id,o);case 2:t=e.sent,n("setProcess",{process:t});case 4:case"end":return e.stop()}},e,s)}))()},deleteProcess:function(e,t){var s=this,n=(e.commit,e.state,t.processId);return(0,r.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.remove(n);case 2:case"end":return e.stop()}},e,s)}))()},createProcess:function(e){var t=this,s=e.commit;e.state;return(0,r.default)(i.default.mark(function e(){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.create({name:"New Process",steps:[],roles:[]});case 2:n=e.sent,s("setProcess",{process:n});case 4:case"end":return e.stop()}},e,t)}))()},openProcess:function(e,t){var s=this,n=e.commit,o=(e.state,t.processId);return(0,r.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get(o);case 2:t=e.sent,n("setProcess",{process:t});case 4:case"end":return e.stop()}},e,s)}))()},loadForms:function(e){var t=this,s=e.commit;e.state;return(0,r.default)(i.default.mark(function e(){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.find({query:{published:{$ne:null}}});case 2:n=e.sent,s("setForms",{forms:n.data});case 4:case"end":return e.stop()}},e,t)}))()},loadProcesses:function(e){var t=this,s=e.commit;e.state;return(0,r.default)(i.default.mark(function e(){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.find({});case 2:n=e.sent,s("setProcesses",{processes:n.data});case 4:case"end":return e.stop()}},e,t)}))()}};t.default=function(e){return j=new p.default.Store({state:k(e),mutations:M,getters:R,actions:E})}},204:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(551),i=n(o),a=s(74),r=n(a);t.default={name:"app",components:{Processes:i.default,Sexp:r.default}}},205:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(35),i=n(o);t.default=i.default.component("atom",{props:{value:{type:Object,required:!0},scope:{type:Array},type:String},computed:{itemClass:function(){return this.value.atomType||""},inScope:function(){var e=this;return!this.scope||"value"!==this.value.sexpType||this.scope.some(function(t){return t.id===e.value.id&&t.stepId===e.value.stepId&&t.actionId===e.value.actionId})}},methods:{empty:function(){this.type&&this.$emit("input",{type:"sexp-hole",valueType:this.type})}}})},206:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(35),i=n(o),a=s(32),r=s(74),c=n(r),u=s(26);t.default=i.default.component("atom-list",{props:{value:{type:Object,required:!0},scope:{type:Array,required:!0},action:{type:Object,required:!0}},components:{Sexp:c.default},data:function(){return{focused:1}},computed:{head:function(){return this.value.expressions[0]},sexpType:function(){return this.head&&this.head.sexpType},tail:function(){return this.value.expressions.slice(1)},types:function(){var e=u.atoms[this.head.id];return null!=e&&"function"===e.type?e.parameters:[]}},methods:{updateSexp:function(e,t){if(null==t&&1===e)return void this.$emit("input",null);if(null==t)return void(this.$data.focused=e-1);var s=(0,a.set)((0,a.lensPath)(["expressions",e]),t,this.value);this.$emit("input",s)}}})},207:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(49),i=n(o),a=s(32),r=s(48),c=s(73),u=n(c),l=s(74),p=n(l),d=s(26),f=s(75),v=function(e,t,s){return(0,a.over)((0,a.lensProp)(e),(0,a.append)(t),s)};t.default={props:{action:{type:Object,required:"true"},step:{type:Object,required:"true"}},components:{Panel:u.default,Sexp:p.default,checkbox:f.checkbox,vSelect:f.select},created:function(){null==this.action.props&&this.setProps({recipients:[],package:[],conditions:[]})},data:function(){return{actionName:this.action.name,multiplePackages:this.action.multiplePackages}},watch:{actionName:function(e){this.setActionName({stepId:this.step.id,actionId:this.action.id,name:e})},multiplePackages:function(e){this.setActionMultiplePackages({stepId:this.step.id,actionId:this.action.id,multiplePackages:e})}},computed:{props:function(){return this.action.props},results:function(){return this.action.props.results},scope:function(){return this.$store.state.scope}},methods:(0,i.default)({},(0,r.mapMutations)(["setActionName","setActionProps","setActionType","setActionMultiplePackages","removeAction"]),{removeSelf:function(){this.removeAction({stepId:this.step.id,actionId:this.action.id})},setSelfType:function(e){this.setActionType({stepId:this.step.id,actionId:this.action.id,type:e.target.value})},setProps:function(e){this.setActionProps({stepId:this.step.id,actionId:this.action.id,props:e})},setTree:function(e,t,s){return null==s?void this.setProps((0,a.over)((0,a.lensProp)(e),(0,a.remove)(t,1),this.action.props)):void this.setProps((0,a.set)((0,a.lensPath)([e,t,"tree"]),s,this.action.props))},addItem:function(){this.setProps(v("package",{tree:{type:"sexp-hole",valueType:d.types.request}},this.action.props))},addCondition:function(){this.setProps(v("conditions",{tree:{type:"sexp-hole",valueType:d.types.dependency}},this.action.props))},addRecipient:function(){this.setProps(v("recipients",{tree:{type:"sexp-hole",valueType:d.types.reciever}},this.action.props))}})}},208:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(49),i=n(o),a=s(48),r=s(550),c=n(r),u=s(75),l=s(73),p=n(l);t.default={components:{BuildStep:c.default,Panel:p.default,modal:u.modal,accordion:u.accordion},data:function(){return{processName:this.$store.getters.process.name,deleting:!1,roleName:null,roleId:null,editingRole:!1}},computed:(0,i.default)({},(0,a.mapGetters)(["process"])),watch:{processName:function(e){this.setProcessName({id:this.process.id,name:e})}},methods:(0,i.default)({},(0,a.mapMutations)(["addStep","setProcessName","addRole","removeRole","saveRole"]),(0,a.mapActions)(["deleteProcess","saveProcess"]),{saveSelf:function(){this.saveProcess({process:this.process})},deleteSelf:function(){this.deleteProcess({processId:this.process._id})},saveEditRole:function(){this.saveRole({name:this.roleName,id:this.roleId}),this.editingRole=!1},editRole:function(e){this.roleName=e.name,this.editingRole=!0,this.roleId=e.id},destroyRole:function(){this.removeRole({id:this.roleId}),this.editingRole=!1},createRole:function(e){this.addRole({name:""}),this.editRole(this.process.roles[this.process.roles.length-1])}})}},209:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(49),i=n(o),a=s(48),r=s(548),c=n(r),u=s(75),l=s(74),p=n(l),d=s(73),f=n(d),v=s(32),m=s(26),h=function(e,t,s){return(0,v.over)((0,v.lensProp)(e),(0,v.append)(t),s)};t.default={props:{step:{type:Object,required:!0}},components:{panel:f.default,BuildAction:c.default,modal:u.modal,Sexp:p.default},data:function(){return{stepName:this.step.name,removing:!1,isOpen:!0}},computed:{scope:function(){return this.$store.state.scope}},watch:{stepName:function(e){this.setStepName({stepId:this.step.id,name:e})}},methods:(0,i.default)({},(0,a.mapMutations)(["setStepName","addAction","removeStep","setStepConditionProps"]),{removeSelf:function(){this.removeStep({stepId:this.step.id})},setProps:function(e){this.setStepConditionProps({stepId:this.step.id,props:e})},addCondition:function(){this.setProps(h("conditions",{tree:{type:"sexp-hole",valueType:m.types.dependency}},this.step.conditionAction.props))},setTree:function(e,t,s){return null==s?void this.setProps((0,v.over)((0,v.lensProp)(e),(0,v.remove)(t,1),this.step.conditionAction.props)):void this.setProps((0,v.set)((0,v.lensPath)([e,t,"tree"]),s,this.step.conditionAction.props))}})}},210:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{header:{type:String},isOpen:{type:Boolean,default:null},type:{type:String,default:null}},data:function(){return{open:this.isOpen}},watch:{isOpen:function(e){this.open=e}},computed:{inAccordion:function(){return this.$parent&&this.$parent._isAccordion},panelType:function(){return"panel-"+(this.type||this.$parent&&this.$parent.type||"default")}},methods:{toggle:function(){null!=this.isOpen?this.$emit("state",!this.open):this.open=!this.open},enter:function(e){e.style.height="auto";var t=window.getComputedStyle(e).height;e.style.height="0px",e.offsetHeight,e.style.height=t},afterEnter:function(e){e.style.height="auto"},beforeLeave:function(e){e.style.height=window.getComputedStyle(e).height,e.offsetHeight,e.style.height="0px"}},created:function(){null===this.isOpen&&(this.open=!this.inAccordion)}}},211:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(49),i=n(o),a=s(48),r=s(73),c=n(r),u=s(549),l=n(u),p=s(75);t.default={name:"processes",computed:(0,i.default)({},(0,a.mapGetters)(["process"]),{processes:function(){return this.$store.state.processes},processId:function(){return this.process&&this.process._id}}),created:function(){this.loadProcesses(),this.loadForms()},methods:(0,i.default)({},(0,a.mapMutations)(["setCurrentProcess"]),(0,a.mapActions)(["loadProcesses","loadForms","createProcess","openProcess"])),components:{Panel:c.default,BuildProcess:l.default,alert:p.alert}}},212:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:{type:Object},scope:{type:Array,required:!0},action:{type:Object,required:!0},type:String,focused:Boolean},data:function(){return{position:0,hovered:!1,options:[],sexp:this.value}},methods:{setValue:function(e){this.$emit("input",e)}}}},213:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,i=s(223),a=n(i),r=s(220),c=n(r),u=s(32),l=s(332),p=s(35),d=n(p),f=s(26),v=(o={},(0,c.default)(o,l.codes.enter,function(e){e.selectCurrent()}),(0,c.default)(o,l.codes.up,function(e){0!==e.searchSelect&&e.searchSelect--}),(0,c.default)(o,l.codes.down,function(e){e.searchSelect+1!==e.searchOptions.length&&e.searchSelect++}),(0,c.default)(o,l.codes.backspace,function(e){0===e.searchQuery.length&&e.$emit("input",null)}),o);t.default=d.default.component("sexp-hole",{props:{value:{type:Object,required:!0},scope:{type:Array,required:!0},action:{type:Object,required:!0},focused:Boolean},created:function(){this.setOptions(),this.localFocused&&this.focus()},data:function(){return{localFocused:this.focused,searchQuery:"",searchOptions:[],searchSelect:0,options:[]}},computed:{isRest:function(){return this.value.valueType&&this.value.valueType.rest}},watch:{localFocused:function(e){var t=this;e?this.focus():setTimeout(function(){return!t.localFocused&&t.blur()},200)},focused:function(e){this.localFocused=e},searchQuery:function(e){this.$refs.input.textContent=e},scope:function(e){this.setOptions(e)}},methods:{search:function(e){return"name"===this.value.valueType?void(this.searchQuery=e):(this.searchQuery=e,this.$data.localFocused?void(e.trim()?(this.searchSelect=0,this.$data.searchOptions=this.options.filter(function(t){var s=e.toLowerCase();if(t.match)return t.match(s);var n=t.label.toLowerCase();return n.includes(s)})):this.$data.searchOptions=this.options):[])},setOptions:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scope;this.options=(0,u.pipe)((0,u.filter)(function(t){return(0,f.typeMatches)(t,e.value.valueType)}),(0,u.filter)(function(t){return!t.filter||t.filter(e.action)}),(0,u.map)((0,u.prop)("atoms")),u.flatten)(t)},receiveKeys:function(e){var t=v[e.keyCode];null!=t&&(e.keyCode!==l.codes.backspace&&e.preventDefault(),t(this,e))},focus:function(){this.localFocused=!0,this.$data.searchOptions=this.options,this.searchSelect=0},blur:function(e){"name"===this.value.valueType&&this.searchQuery.length>0&&this.$emit("input",{id:this.searchQuery,type:"atom",label:this.searchQuery}),this.localFocused=!1,this.$data.searchOptions=[],this.searchQuery=""},optionHover:function(e){this.$data.searchSelect=e},optionClick:function(e){this.focus(),this.$data.searchSelect=e,this.selectCurrent()},selectCurrent:function(){if("name"===this.value.valueType)return void this.$emit("input",{id:this.searchQuery,type:"atom",label:this.searchQuery});var e=this.$data.searchOptions[this.$data.searchSelect],t=f.atoms[e.id];t&&"function"===t.type&&(e={type:"atom-list",expressions:[e].concat((0,a.default)((0,u.map)(function(e){return{type:"sexp-hole",valueType:e}},t.parameters)))}),this.$emit("input",e)}}})},277:function(e,t){},278:function(e,t){},279:function(e,t){},280:function(e,t){},281:function(e,t){},282:function(e,t){},283:function(e,t){},284:function(e,t){},285:function(e,t){},545:function(e,t,s){s(279);var n=s(18)(s(204),s(555),null,null);e.exports=n.exports},546:function(e,t,s){s(281);var n=s(18)(s(205),s(557),"data-v-4501dae8",null);e.exports=n.exports},547:function(e,t,s){s(282);var n=s(18)(s(206),s(558),null,null);e.exports=n.exports},548:function(e,t,s){s(283);var n=s(18)(s(207),s(559),"data-v-84f9cb06",null);e.exports=n.exports},549:function(e,t,s){s(285);var n=s(18)(s(208),s(561),"data-v-b9a6ba90",null);e.exports=n.exports},550:function(e,t,s){s(284);var n=s(18)(s(209),s(560),"data-v-aeea705a",null);e.exports=n.exports},551:function(e,t,s){s(280);var n=s(18)(s(211),s(556),null,null);e.exports=n.exports},552:function(e,t,s){s(278);var n=s(18)(s(213),s(554),"data-v-19119a41",null);e.exports=n.exports},553:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["panel",e.panelType]},[s("div",{class:["panel-heading","panel-heading-flex"]},[s("i",{class:["fa","accordion-toggle",e.open?"fa-minus":"fa-plus"],on:{click:function(t){t.preventDefault(),e.toggle()}}}),e._v(" "),e._t("header",[s("h4",{staticClass:"panel-title"},[e._v(e._s(e.header))])])],2),e._v(" "),s("transition",{attrs:{name:"collapse"},on:{enter:e.enter,"after-enter":e.afterEnter,"before-leave":e.beforeLeave}},[e.open?s("div",{staticClass:"panel-collapse"},[s("div",{staticClass:"panel-body"},[e._t("default")],2),e._v(" "),s("div",{class:["panel-footer"]},[e._t("footer")],2)]):e._e()])],1)},staticRenderFns:[]}},554:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{"source-select":!0,rest:e.isRest}},[s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.searchQuery.length,expression:"searchQuery.length === 0"}],staticClass:"placeholder"},[e._v(e._s(e.value.valueType))]),e._v(" "),s("div",{directives:[{name:"focus",rawName:"v-focus",value:e.localFocused,expression:"localFocused"}],ref:"input",staticClass:"search",attrs:{contenteditable:"",type:"text"},on:{focus:function(t){e.localFocused=!0},blur:function(t){e.localFocused=!1},input:function(t){e.search(t.target.textContent)},keydown:e.receiveKeys}}),e._v(" "),e.searchOptions.length>0?s("ul",{staticClass:"search-options"},e._l(e.searchOptions,function(t,n){return s("li",{class:{selected:e.searchSelect===n},on:{mouseenter:function(t){e.optionHover(n)},click:function(t){e.optionClick(n)}}},[e._v("\n        "+e._s(t.label)+"\n    ")])})):e._e()])},staticRenderFns:[]}},555:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container",attrs:{id:"app"}},[s("processes")],1)},staticRenderFns:[]}},556:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row panel panel-default"},[s("div",{staticClass:"panel-body"},[s("ul",{staticClass:"nav nav-pills col-sm-10"},e._l(e.processes,function(t){return s("li",{class:{active:e.processId===t._id}},[s("a",{on:{click:function(s){e.openProcess({processId:t._id})}}},[e._v(e._s(t.name))])])})),e._v(" "),s("button",{staticClass:"btn btn-default pull-right",on:{click:function(t){e.createProcess()}}},[s("i",{staticClass:"fa fa-plus"}),e._v(" Process")])])]),e._v(" "),s("div",[e.process?s("build-process",{key:e.processId}):s("alert",{staticClass:"row",attrs:{type:"info"}},[e._v("Select or add a process to get started!")])],1)])},staticRenderFns:[]}},557:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["atom",e.itemClass],on:{dblclick:function(t){e.empty()}}},[e.inScope?e._e():s("i",{staticClass:"fa fa-exclamation-circle"}),e._v(" "+e._s(e.value.label)+"\n")])},staticRenderFns:[]}},558:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["atom-list",e.sexpType||""]},[s("div",{staticClass:"head"},[s("sexp",{attrs:{action:e.action,value:e.value.expressions[0],scope:e.scope},on:{input:function(t){e.updateSexp(0,arguments[0])}}})],1),e._v(" "),s("div",{staticClass:"tail"},e._l(e.tail,function(t,n){return s("sexp",{attrs:{type:e.types[n],action:e.action,focused:e.focused===n+1,scope:e.scope,value:t},on:{input:function(t){e.updateSexp(n+1,arguments[0])}}})}))])},staticRenderFns:[]}},559:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"panel panel-default action"},[s("div",{staticClass:"panel-heading action-heading"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.actionName,expression:"actionName"}],staticClass:"title-input action-name",attrs:{placeholder:"Action Title"},domProps:{value:e._s(e.actionName)},on:{input:function(t){t.target.composing||(e.actionName=t.target.value)}}}),e._v(" "),s("button",{on:{click:function(t){e.removeSelf()}}},[s("i",{staticClass:"fa fa-times"})])]),e._v(" "),s("div",{staticClass:"panel-body"},[s("div",{staticClass:"dependencies sexp-box"},[s("div",{staticClass:"sexp-label"},[s("label",[e._v("When")]),e._v(" "),s("button",{staticClass:"btn-icon add-sexp",on:{click:function(t){e.addCondition()}}},[s("i",{staticClass:"fa fa-plus"})])]),e._v(" "),s("div",{staticClass:"sexp"},[0===e.props.conditions.length?s("div",{staticClass:"placeholder"},[e._v("\n          Step Starts\n        ")]):e._l(e.props.conditions,function(t,n){return s("div",{staticClass:"tree"},[s("sexp",{key:n,attrs:{value:t.tree,action:e.action,focused:!0,scope:e.scope},on:{input:function(t){e.setTree("conditions",n,arguments[0])}}})],1)})],2)]),e._v(" "),s("div",{staticClass:"package sexp-box"},[s("div",{staticClass:"sexp-label"},[s("label",[e._v("Then Send")]),e._v(" "),s("button",{staticClass:"btn-icon add-sexp",on:{click:function(t){e.addItem()}}},[s("i",{staticClass:"fa fa-plus"})])]),e._v(" "),s("div",e._l(e.props.package,function(t,n){return s("div",{staticClass:"tree"},[s("sexp",{key:n,attrs:{value:t.tree,focused:!0,action:e.action,scope:e.scope},on:{input:function(t){e.setTree("package",n,arguments[0])}}})],1)}))]),e._v(" "),s("div",{staticClass:"recipients sexp-box"},[s("div",{staticClass:"sexp-label"},[s("label",[e._v("To")]),e._v(" "),s("button",{staticClass:"btn-icon add-sexp",on:{click:function(t){e.addRecipient()}}},[s("i",{staticClass:"fa fa-plus"})])]),e._v(" "),s("div",{staticClass:"checkbox"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.multiplePackages,expression:"multiplePackages"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.multiplePackages)?e._i(e.multiplePackages,null)>-1:e.multiplePackages},on:{click:function(t){var s=e.multiplePackages,n=t.target,o=!!n.checked;if(Array.isArray(s)){var i=null,a=e._i(s,i);o?a<0&&(e.multiplePackages=s.concat(i)):a>-1&&(e.multiplePackages=s.slice(0,a).concat(s.slice(a+1)))}else e.multiplePackages=o}}}),e._v(" Per Member\n        ")])]),e._v(" "),s("div",e._l(e.props.recipients,function(t,n){return s("div",{staticClass:"tree"},[s("sexp",{key:n,attrs:{value:t.tree,action:e.action,focused:!0,scope:e.scope},on:{input:function(t){e.setTree("recipients",n,arguments[0])}}})],1)}))])]),e._v(" "),s("div",{staticClass:"panel-footer"},[s("div",{staticClass:"drag-source-container results"},[e._m(0),e._v(" "),s("div",{staticClass:"drag-source"},e._l(e.results,function(t,n){return s("div",{staticClass:"tree"},[s("sexp",{key:n,attrs:{value:t,action:e.action,focused:!1,scope:e.scope}})],1)}))])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sexp-label"},[s("label",[e._v("Results")])])}]}},560:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("panel",{attrs:{isOpen:e.isOpen},on:{state:function(t){e.isOpen=arguments[0]}}},[s("modal",{directives:[{name:"model",rawName:"v-model",value:e.removing,expression:"removing"}],domProps:{value:e.removing},on:{input:function(t){e.removing=t}}},[e._v("\n    Are you sure you want to permanently destroy this step?\n    "),s("div",{staticClass:"modal-footer",slot:"modal-footer"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){e.removeSelf()}}},[e._v("Destroy")]),e._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.removing=!1}}},[e._v("Cancel")])])]),e._v(" "),s("div",{staticClass:"header",slot:"header"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.stepName,expression:"stepName"}],staticClass:"title-input name-input",attrs:{placeholder:"Step Title"},domProps:{value:e._s(e.stepName)},on:{input:function(t){t.target.composing||(e.stepName=t.target.value)}}}),e._v(" "),s("div",[e.isOpen?s("button",{staticClass:"btn btn-primary add-action",on:{click:function(t){e.addAction({stepId:e.step.id})}}},[s("i",{staticClass:"fa fa-plus"}),e._v(" Action\n      ")]):e._e(),e._v(" "),e.isOpen?s("button",{staticClass:"btn btn-default",on:{click:function(t){e.step.actions.length>0?e.removing=!0:e.removeSelf()}}},[s("i",{staticClass:"fa fa-trash"})]):e._e()])]),e._v(" "),s("div",{staticClass:"actions"},e._l(e.step.actions,function(t){return s("build-action",{attrs:{action:t,step:e.step}})})),e._v(" "),s("div",{staticClass:"finishWhen sexp-box",slot:"footer"},[s("div",{staticClass:"sexp-label"},[s("label",[e._v("Finish When")]),e._v(" "),s("button",{staticClass:"btn-icon add-sexp",on:{click:function(t){e.addCondition()}}},[s("i",{staticClass:"fa fa-plus"})])]),e._v(" "),s("div",{staticClass:"sexp"},[0===e.step.conditionAction.props.conditions.length?s("div",{staticClass:"placeholder"},[e._v("\n        Never\n      ")]):e._l(e.step.conditionAction.props.conditions,function(t,n){return s("div",{staticClass:"tree"},[s("sexp",{attrs:{value:t.tree,action:e.step.conditionAction,scope:e.scope,focused:!0},on:{input:function(t){e.setTree("conditions",n,arguments[0])}}})],1)})],2)])],1)},staticRenderFns:[]}},561:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("modal",{directives:[{name:"model",rawName:"v-model",value:e.deleting,expression:"deleting"}],domProps:{value:e.deleting},on:{input:function(t){e.deleting=t}}},[e._v("\n    Are you sure you want to permanently destroy this process?\n    "),s("div",{staticClass:"modal-footer",slot:"modal-footer"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){e.deleteSelf()}}},[e._v("Destroy")]),e._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.deleting=!1}}},[e._v("Cancel")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"header"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.processName,
expression:"processName"}],staticClass:"name-input title-input",domProps:{value:e._s(e.processName)},on:{input:function(t){t.target.composing||(e.processName=t.target.value)}}}),e._v(" "),s("div",[s("button",{staticClass:"btn btn-primary",on:{click:function(t){e.saveSelf()}}},[e._v("Save")]),e._v(" "),s("button",{staticClass:"btn btn-danger",on:{click:function(t){e.deleting=!0}}},[s("i",{staticClass:"fa fa-trash"})])])])]),e._v(" "),s("modal",{directives:[{name:"model",rawName:"v-model",value:e.editingRole,expression:"editingRole"}],domProps:{value:e.editingRole},on:{input:function(t){e.editingRole=t}}},[s("div",{staticClass:"form-group"},[s("label",[e._v("Role")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.roleName,expression:"roleName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e._s(e.roleName)},on:{input:function(t){t.target.composing||(e.roleName=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"modal-footer",slot:"modal-footer"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){e.destroyRole()}}},[e._v("Destroy")]),e._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.saveEditRole()}}},[e._v("Save")])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"roles well col-12"},[s("div",{staticClass:"role-header"},[s("h4",{staticClass:"role-title"},[e._v("Roles")]),e._v(" "),s("div",[s("button",{staticClass:"btn add-role",on:{click:function(t){e.createRole()}}},[s("i",{staticClass:"fa fa-plus"})])])]),e._v(" "),s("div",{staticClass:"tokens"},e._l(e.process.roles,function(t){return s("div",{staticClass:"token",on:{click:function(s){e.editRole(t)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])}))])]),e._v(" "),s("div",{staticClass:"steps row"},[s("button",{staticClass:"btn btn-default add-step",on:{click:function(t){e.addStep()}}},[s("i",{staticClass:"fa fa-plus"}),e._v(" Step")]),e._v(" "),e._l(e.process.steps,function(e){return s("accordion",{key:e.id,staticClass:"step"},[s("build-step",{attrs:{step:e}})],1)})],2)],1)},staticRenderFns:[]}},562:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(e.value.type,{tag:"component",attrs:{focused:e.focused,action:e.action,type:e.type,scope:e.scope,value:e.value},on:{input:function(t){e.setValue(arguments[0])}}})},staticRenderFns:[]}},565:function(e,t){}});
//# sourceMappingURL=app.js.map